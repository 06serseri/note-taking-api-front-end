<div>
  <p>{{ tokenReceivedFromApi | json }}</p>
  <hr />
  <p>
    {{ userList | json }}
  </p>
</div>

<div class="container-fluid">
  <h1>Login Form</h1>
  <form [formGroup]="loginForm" (ngSubmit)="loginApi()">
    <!-- <div>
        <button type="button" (click)="getAllUsers()">Get All Users</button>
      </div>
      <div><button type="button" (click)="getUser()">Get User</button></div>
      <div><button type="button" (click)="createUser()">Create User</button></div>
      <div><button type="button" (click)="updateUser()">Update User</button></div>
      <div><button type="button" (click)="deleteUser()">Delete User</button></div>
      <div><button type="button" (click)="getToken()">Get Token</button></div> -->

    <div class="form-group">
      <label>Username</label>
      <input
        [class.is-invalid]="
          loginForm.get('username')?.invalid &&
          loginForm.get('username')?.touched
        "
        formControlName="username"
        type="text"
        class="form-control"
      />
      <div *ngIf="getUsername!.invalid && getUsername!.touched">
        <small *ngIf="(getUsername?.errors)!.required" class="text-danger"
          >Username is required</small
        >
        <small *ngIf="(getUsername?.errors)!.minlength" class="text-danger"
          >Username must be minimum 3 characters</small
        >
        <small *ngIf="(getUsername?.errors)!.forbiddenWord" class="text-danger"
          >Username "{{ (getUsername?.errors)!.forbiddenWord.value }}" not
          allowed</small
        >
      </div>

      <!-- <small
          [class.d-none]="
            loginForm.get('username')?.valid ||
            loginForm.get('username')?.untouched
          "
          class="text-danger"
          >Username is required</small
        > -->
    </div>
    <div class="form-group">
      <label>Password</label>
      <input formControlName="password" type="password" class="form-control" />
    </div>
    <br />
    <div>
      <button class="btn btn-primary" type="submit">Login</button>
      <!-- <a routerLink="/note-list"
        ><button class="btn btn-primary" type="submit">Login</button></a
      > -->
    </div>
  </form>

  <div *ngIf="loginUnsuccessful">
    <br />
    <small class="text-danger">{{ errorMessage }}</small>
  </div>

  <br />
  {{ loginForm.value | json }}
</div>
<router-outlet></router-outlet>
